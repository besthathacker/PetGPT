<!DOCTYPE html>
<html lang="en">
<head>
Â Â <meta charset="UTF-8" />
Â Â <title>PetGPT Ultimate</title>
Â Â <meta name="viewport" content="width=device-width,initial-scale=1" />
Â Â <script src="https://cdn.jsdelivr.net/npm/@xenova/transformers@2.5.0/dist/transformers.min.js"></script>
Â Â <style>
Â Â Â Â body {
Â Â Â Â Â Â margin: 0; padding: 0;
Â Â Â Â Â Â background: #1e1e1e;
Â Â Â Â Â Â color: #eee;
Â Â Â Â Â Â font-family: Arial, sans-serif;
Â Â Â Â Â Â display: flex;
Â Â Â Â Â Â flex-direction: column;
Â Â Â Â Â Â min-height: 100vh;
Â Â Â Â }
Â Â Â Â header, footer {
Â Â Â Â Â Â background: #007acc;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â text-align: center;
Â Â Â Â Â Â padding: 1rem;
Â Â Â Â Â Â flex-shrink: 0;
Â Â Â Â }
Â Â Â Â #container {
Â Â Â Â Â Â flex: 1;
Â Â Â Â Â Â display: flex;
Â Â Â Â Â Â flex-direction: column;
Â Â Â Â Â Â max-width: 800px;
Â Â Â Â Â Â margin: auto;
Â Â Â Â Â Â width: 100%;
Â Â Â Â Â Â padding: 1rem;
Â Â Â Â Â Â box-sizing: border-box;
Â Â Â Â }
Â Â Â Â #chat {
Â Â Â Â Â Â flex: 1;
Â Â Â Â Â Â overflow-y: auto;
Â Â Â Â Â Â margin-bottom: 1rem;
Â Â Â Â Â Â padding-right: 0.5rem;
Â Â Â Â }
Â Â Â Â .message {
Â Â Â Â Â Â margin: 0.5rem 0;
Â Â Â Â Â Â padding: 0.75rem 1rem;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â Â Â background: #333;
Â Â Â Â Â Â max-width: 80%;
Â Â Â Â Â Â word-wrap: break-word;
Â Â Â Â }
Â Â Â Â .user { align-self: flex-end; background: #444; }
Â Â Â Â .botÂ Â { align-self: flex-start; }
Â Â Â Â #controls {
Â Â Â Â Â Â display: flex;
Â Â Â Â Â Â gap: 0.5rem;
Â Â Â Â }
Â Â Â Â input[type="text"] {
Â Â Â Â Â Â flex: 1;
Â Â Â Â Â Â padding: 0.75rem;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â Â Â background: #222;
Â Â Â Â Â Â color: white;
Â Â Â Â }
Â Â Â Â button {
Â Â Â Â Â Â padding: 0.75rem 1rem;
Â Â Â Â Â Â border: none;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â Â Â background: #007acc;
Â Â Â Â Â Â color: white;
Â Â Â Â Â Â cursor: pointer;
Â Â Â Â }
Â Â Â Â button:disabled { opacity: 0.5; cursor: default; }
Â Â Â Â #adminPanel {
Â Â Â Â Â Â display: none;
Â Â Â Â Â Â margin-top: 1rem;
Â Â Â Â Â Â padding: 1rem;
Â Â Â Â Â Â background: #333;
Â Â Â Â Â Â border-radius: 8px;
Â Â Â Â }
Â Â </style>
</head>
<body>
Â Â <header>ğŸ¾ PetGPT Ultimate</header>
Â Â <div id="container">
Â Â Â Â <div id="chat"></div>
Â Â Â Â <div id="controls">
Â Â Â Â Â Â <input type="text" id="userInput" placeholder="Say somethingâ€¦" autocomplete="off" />
Â Â Â Â Â Â <button id="sendBtn">Send</button>
Â Â Â Â Â Â <button id="resetBtn">Reset Memory</button>
Â Â Â Â Â Â <button id="voiceBtn">ğŸ¤ Voice Chat</button>
Â Â Â Â </div>
Â Â Â Â <div id="adminPanel">
Â Â Â Â Â Â <h4>Admin Panel (type â€œcheetoâ€ to unlock)</h4>
Â Â Â Â Â Â <label>
Â Â Â Â Â Â Â Â Background Color:
Â Â Â Â Â Â Â Â <input type="color" id="bgPicker" />
Â Â Â Â Â Â </label>
Â Â Â Â </div>
Â Â </div>
Â Â <footer>Â© 2025 PetGPT Ultimate</footer>

Â Â <script>
Â Â Â Â const container = document.getElementById('container');
Â Â Â Â const chat = document.getElementById('chat');
Â Â Â Â const userInput = document.getElementById('userInput');
Â Â Â Â const sendBtn = document.getElementById('sendBtn');
Â Â Â Â const resetBtn = document.getElementById('resetBtn');
Â Â Â Â const voiceBtn = document.getElementById('voiceBtn');
Â Â Â Â const adminPanel = document.getElementById('adminPanel');
Â Â Â Â const bgPicker = document.getElementById('bgPicker');

Â Â Â Â let tokenizer, model, gptReady = false;
Â Â Â Â let memory = JSON.parse(localStorage.getItem('petgpt-memory') || '{}');

Â Â Â Â function append(msg, cls = 'bot') {
Â Â Â Â Â Â const el = document.createElement('div');
Â Â Â Â Â Â el.className = `message ${cls}`;
Â Â Â Â Â Â el.textContent = msg;
Â Â Â Â Â Â chat.appendChild(el);
Â Â Â Â Â Â chat.scrollTop = chat.scrollHeight;
Â Â Â Â }

Â Â Â Â async function initAI() {
Â Â Â Â Â Â append('Loading GPTâ€‘2 AIâ€¦ please wait.', 'bot');
Â Â Â Â Â Â try {
Â Â Â Â Â Â Â Â tokenizer = await transformers.AutoTokenizer.from_pretrained('gpt2');
Â Â Â Â Â Â Â Â modelÂ Â Â Â Â = await transformers.AutoModelForCausalLM.from_pretrained('gpt2');
Â Â Â Â Â Â Â Â gptReady = true;
Â Â Â Â Â Â Â Â append('âœ… GPTâ€‘2 loaded! Ask me anything.', 'bot');
Â Â Â Â Â Â } catch (e) {
Â Â Â Â Â Â Â Â console.error(e);
Â Â Â Â Â Â Â Â append('âš ï¸ GPTâ€‘2 failed to load. Using fallback responses.', 'bot');
Â Â Â Â Â Â }
Â Â Â Â }

Â Â Â Â async function getReply(text) {
Â Â Â Â Â Â const t = text.trim().toLowerCase();

Â Â Â Â Â Â if (t.startsWith('remember:')) {
Â Â Â Â Â Â Â Â const [k, v] = t.slice(9).split('=').map(s => s.trim());
Â Â Â Â Â Â Â Â if (k && v) {
Â Â Â Â Â Â Â Â Â Â memory[k] = v;
Â Â Â Â Â Â Â Â Â Â localStorage.setItem('petgpt-memory', JSON.stringify(memory));
Â Â Â Â Â Â Â Â Â Â return `Got it! Iâ€™ll remember ${k} = ${v}`;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â Â Â return 'â“ Format: remember:key=value';
Â Â Â Â Â Â }

Â Â Â Â Â Â for (const k in memory) {
Â Â Â Â Â Â Â Â if (t.includes(k.toLowerCase())) {
Â Â Â Â Â Â Â Â Â Â return `ğŸ”– You told me ${k} = ${memory[k]}`;
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â }

Â Â Â Â Â Â if (t.includes('cheeto')) {
Â Â Â Â Â Â Â Â adminPanel.style.display = 'block';
Â Â Â Â Â Â Â Â return 'ğŸ‰ Admin unlocked!';
Â Â Â Â Â Â }

Â Â Â Â Â Â if (gptReady && model && tokenizer) {
Â Â Â Â Â Â Â Â try {
Â Â Â Â Â Â Â Â Â Â const enc = await tokenizer.encode(text);
Â Â Â Â Â Â Â Â Â Â const out = await model.generate(enc.inputIds, {
Â Â Â Â Â Â Â Â Â Â Â Â max_new_tokens: 50,
Â Â Â Â Â Â Â Â Â Â Â Â do_sample: true,
Â Â Â Â Â Â Â Â Â Â Â Â temperature: 0.7,
Â Â Â Â Â Â Â Â Â Â Â Â top_p: 0.9,
Â Â Â Â Â Â Â Â Â Â });
Â Â Â Â Â Â Â Â Â Â let resp = await tokenizer.decode(out[0], { skip_special_tokens: true });
Â Â Â Â Â Â Â Â Â Â resp = resp.replace(text, '').trim() || 'Hmm... not sure what to say.';
Â Â Â Â Â Â Â Â Â Â return resp;
Â Â Â Â Â Â Â Â } catch (e) {
Â Â Â Â Â Â Â Â Â Â console.error('AI error:', e);
Â Â Â Â Â Â Â Â }
Â Â Â Â Â Â }

Â Â Â Â Â Â const fallback = {
Â Â Â Â Â Â Â Â hello: "Hi there! How can I help?",
Â Â Â Â Â Â Â Â bye: "Goodbye! See you soon.",
Â Â Â Â Â Â };
Â Â Â Â Â Â for (const k in fallback) {
Â Â Â Â Â Â Â Â if (t.includes(k)) return fallback[k];
Â Â Â Â Â Â }

Â Â Â Â Â Â return "Sorry, I don't understand.";
Â Â Â Â }

Â Â Â Â async function sendMessage() {
Â Â Â Â Â Â const txt = userInput.value.trim();
Â Â Â Â Â Â if (!txt) return;

Â Â Â Â Â Â append(`You: ${txt}`, 'user');
Â Â Â Â Â Â userInput.value = '';
Â Â Â Â Â Â sendBtn.disabled = true;
Â Â Â Â Â Â userInput.disabled = true;

Â Â Â Â Â Â const reply = await getReply(txt);
Â Â Â Â Â Â append(reply, 'bot');

Â Â Â Â Â Â sendBtn.disabled = false;
Â Â Â Â Â Â userInput.disabled = false;
Â Â Â Â Â Â userInput.focus();
Â Â Â Â }

Â Â Â Â sendBtn.onclick = sendMessage;
Â Â Â Â userInput.onkeydown = e => {
Â Â Â Â Â Â if (e.key === 'Enter') {
Â Â Â Â Â Â Â Â sendMessage();
Â Â Â Â Â Â Â Â e.preventDefault();
Â Â Â Â Â Â }
Â Â Â Â };

Â Â Â Â resetBtn.onclick = () => {
Â Â Â Â Â Â if (confirm('Clear memory and chat?')) {
Â Â Â Â Â Â Â Â localStorage.clear();
Â Â Â Â Â Â Â Â memory = {};
Â Â Â Â Â Â Â Â chat.innerHTML = '';
Â Â Â Â Â Â Â Â append('Memory cleared.', 'bot');
Â Â Â Â Â Â }
Â Â Â Â };

Â Â Â Â bgPicker.oninput = e => document.body.style.background = e.target.value;

Â Â Â Â // Voice input
Â Â Â Â let rec, recognizing = false;
Â Â Â Â if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
Â Â Â Â Â Â const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
Â Â Â Â Â Â rec = new SR();
Â Â Â Â Â Â rec.lang = 'en-US';
Â Â Â Â Â Â rec.interimResults = false;
Â Â Â Â Â Â rec.onstart = () => { recognizing = true; voiceBtn.textContent = 'ğŸ›‘ Stop'; };
Â Â Â Â Â Â rec.onend = () => { recognizing = false; voiceBtn.textContent = 'ğŸ¤ Voice Chat'; };
Â Â Â Â Â Â rec.onerror = () => { recognizing = false; voiceBtn.textContent = 'ğŸ¤ Voice Chat'; };
Â Â Â Â Â Â rec.onresult = e => {
Â Â Â Â Â Â Â Â userInput.value = e.results[0][0].transcript;
Â Â Â Â Â Â Â Â sendMessage();
Â Â Â Â Â Â };
Â Â Â Â Â Â voiceBtn.onclick = () => recognizing ? rec.stop() : rec.start();
Â Â Â Â } else {
Â Â Â Â Â Â voiceBtn.onclick = () => alert('Speech recognition not supported.');
Â Â Â Â }

Â Â Â Â userInput.focus();
Â Â Â Â initAI();
Â Â </script>
</body>
</html>
